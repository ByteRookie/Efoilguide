<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Online Efoil Guide</title>
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-sA+e2prSBT5GF7//3GzZhPMlmYtL1I7y58EN4OwJgIQ=" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-SmZQVfQWc7xKeoQgCXnH3zJsMfwZL+xnz6VfxwGD5l0=" crossorigin=""></script>
</head>
<body>
<header>
  <div class="wrap">
    <h1>Online Efoil Guide</h1>
    <div class="sub">
      Rig: <strong>Fliteboard Pro + Jet2</strong> â€¢ Wings: <strong>MNÂ 1300Â C</strong> (front) + <strong>FlowÂ 245Â C</strong> (stab) â€¢ Battery: <strong>Sport</strong>
      <br><span id="originInfo" class="hint">Set your origin below to sort by distance & ETA. Your address is never stored.</span>
    </div>

    <div style="display:flex;gap:8px;align-items:center;width:100%">
      <input id="q" placeholder="Search all details" style="flex:1;background:var(--input-bg);border:1px solid var(--input-border);border-radius:8px;color:var(--text);padding:8px" />
      <button id="viewToggle" style="background:var(--btn-bg);border:1px solid var(--btn-border);color:var(--text);border-radius:8px;padding:8px;cursor:pointer">Map</button>
      <button id="filterToggle" style="background:var(--btn-bg);border:1px solid var(--btn-border);color:var(--text);border-radius:8px;padding:8px;cursor:pointer">Filters</button>
    </div>
    <div id="filters" class="controls" style="display:none;margin-top:8px">
      <div class="control">
        <div style="display:flex; gap:8px; flex-wrap:wrap; align-items:center">
          <input id="zip" inputmode="numeric" pattern="[0-9]*" maxlength="5" placeholder="ZIP" style="width:100px;background:var(--input-bg);border:1px solid var(--input-border);border-radius:8px;color:var(--text);padding:8px" />
          <button id="useGeo" style="background:var(--btn-alt-bg);border:1px solid var(--btn-alt-border);color:var(--text);border-radius:8px;padding:8px;cursor:pointer" title="Use My Location" aria-label="Use My Location">ğŸ“</button>
          <span class="split"></span>
          <input id="mins" type="range" min="15" max="180" step="5" value="180" style="flex:1">
          <span class="hint" id="minsVal">â‰¤ 180 min</span>
        </div>
        <div class="hint" id="zipHint">ZIP applies automatically when filled. Unrecognized ZIP? Try the location icon.</div>
      </div>
      <div class="control">
        <div class="legend-row">
          <div class="chip-group">
            <span class="chip-group-label">Water:</span>
            <span class="chip f-water active" data-value="salt">ğŸŸ¦ Salt</span>
            <span class="chip f-water active" data-value="fresh">ğŸŸ© Fresh</span>
            <span class="chip f-water active" data-value="brackish">ğŸŸª Brackish</span>
          </div>
          <div class="chip-group">
            <span class="chip-group-label">Season:</span>
            <span class="chip f-season active b-yr" data-value="year">Yearâ€‘round</span>
            <span class="chip f-season active b-sprfall" data-value="spring-fall">Springâ€“Fall</span>
            <span class="chip f-season active b-sum" data-value="summer">Summer</span>
          </div>
          <div class="chip-group">
            <span class="chip-group-label">Skill:</span>
            <span class="chip f-skill active" data-value="B">Beginner [B]</span>
            <span class="chip f-skill active" data-value="I">Intermediate [I]</span>
            <span class="chip f-skill active" data-value="A">Advanced [A]</span>
          </div>
          <div class="chip-group">
            <span id="gemFilter" class="chip" title="Shows Hidden Gem">ğŸŒŸ</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<main class="wrap" id="main">
  <div id="viewWindow" style="overflow:hidden">
    <div id="viewSlider" style="display:flex;transition:transform .3s">
      <div class="table-wrap" id="tableView" style="min-width:100%">
        <table id="tbl">
          <thead>
              <tr>

                <th class="sortable" tabindex="0" role="button">Spot</th>
                <th class="sortable" tabindex="0" role="button">Dist / Time</th>
                <th class="sortable" tabindex="0" role="button">Water</th>
                <th class="sortable" tabindex="0" role="button">Season</th>
                <th class="sortable" tabindex="0" role="button">Skill</th>

              </tr>
          </thead>
          <tbody id="spotsBody"></tbody>
        </table>
      </div>
      <div id="map" style="min-width:100%;height:600px;margin-top:16px;border-radius:var(--radius);border:1px solid var(--table-border)"></div>
    </div>
  </div>
  <p class="foot">ETAs use a simple urban/highway model; check your nav app for exact routing.</p>
</main>

<button id="toTop" aria-label="Back to top">â†‘</button>

<script src="js/main.js" defer></script>

<section class="wrap" style="margin-bottom:40px">
  <h2>Regulatory quickâ€‘reference</h2>
  <ul class="muted">
    <li><strong>Harbors/Marinas:</strong> Noâ€‘wake (typically 5Â mph) inside fairways until outside breakwaters.</li>
    <li><strong>CA proximity rule (commonâ€‘sense baseline):</strong> 5Â mph within ~100Â ft of swimmers and ~200Â ft of beaches, docks, and moored boats. Always obey posted signs.</li>
    <li><strong>COLREGS (â€œRules of the Roadâ€):</strong> Applies everywhereâ€”give way to vessels constrained by draft (ships/ferries), cross channels at right angles, show lights if dusk/night (avoid night on eFoil).</li>
    <li><strong>Sanctuaries/Wildlife:</strong> Keep clear of marine mammals; never chase. Heed local eelgrass/sanctuary zones (e.g., parts of Richardson & Tomales bays).</li>
    <li><strong>Inland lakes:</strong> Expect <em>quagga mussel inspections</em> (arrive clean & dry), dayâ€‘use hours, and occasional algae advisories.</li>
  </ul>
  <p class="hint">This guide summarizes practical rules. Local postings and harbor patrol instructions always take precedence.</p>
</section>

</body>
</html>
