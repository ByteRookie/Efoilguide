<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>eFoil Guide</title>
<link rel="stylesheet" href="css/style.1.0.0.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
</head>
<body>
<header>
  <div class="wrap">
    <div class="header-row">
      <h1>eFoil Guide</h1>
      <div class="search-wrap">
        <input id="q" placeholder="Search all details" aria-label="Search spots" />
        <ul id="qSuggest" class="hidden" role="listbox"></ul>
      </div>
      <div class="settings">
        <button id="editLocation" aria-label="Change location">📍</button>
        <button id="filterBtn" aria-label="Filters">⚙</button>
        <button id="infoBtn" aria-label="Regulatory quick-reference">ℹ</button>
        <span id="locationBox" class="hidden" aria-hidden="true">
          <div class="loc-row">
            <input id="zip" inputmode="numeric" pattern="[0-9]*" maxlength="5" placeholder="ZIP" aria-label="ZIP code" />
            <a id="useGeo" href="#" title="Use device location">Use device location</a>
          </div>
          <div id="originMsg" class="hint">Set your origin to sort by distance &amp; ETA. Your address is never stored.</div>
        </span>
      </div>
    </div>
    <div id="filters" class="controls hidden">
      <div class="control">
        <div class="legend-row">
          <div class="chip-group">
            <span class="chip-group-label">Water:</span>
            <span class="chip f-water active b-salt" data-value="salt">Salt</span>
            <span class="chip f-water active b-fresh" data-value="fresh">Fresh</span>
            <span class="chip f-water active b-brack" data-value="brackish">Brackish</span>
          </div>
          <div class="chip-group">
            <span class="chip-group-label">Season:</span>
            <span class="chip f-season active b-yr" data-value="year">Year‑round</span>
            <span class="chip f-season active b-sprfall" data-value="spring-fall">Spring–Fall</span>
            <span class="chip f-season active b-sum" data-value="summer">Summer</span>
          </div>
          <div class="chip-group">
            <span class="chip-group-label">Skill:</span>
            <span class="chip f-skill active b-lvle" data-value="B">Beginner</span>
            <span class="chip f-skill active b-lvlm" data-value="I">Intermediate</span>
            <span class="chip f-skill active b-lvlh" data-value="A">Advanced</span>
          </div>
          <div class="chip-group chip-group-flex">
            <input id="mins" type="range" min="15" max="180" step="5" value="180">
            <span class="hint" id="minsVal">≤ 180 min</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<main id="main">
  <div id="map"></div>
  <div id="tablePanel" class="panel" role="dialog" aria-modal="true" aria-hidden="true">
    <button id="closePanel" aria-label="Close">✕</button>
    <div class="table-wrap">
      <table id="tbl">
        <colgroup>
          <col class="c-name">
          <col class="c-dist">
          <col class="c-water">
          <col class="c-season">
          <col class="c-skill">
        </colgroup>
        <thead>
          <tr>
            <th class="sortable" data-sort="name">Spot</th>
            <th class="sortable" data-sort="dist" aria-sort="ascending">Dist / Time <span id="sortArrow">⇅</span></th>
            <th class="sortable" data-sort="water">Water</th>
            <th class="sortable" data-sort="season">Season</th>
            <th class="sortable" data-sort="skill">Skill</th>
          </tr>
        </thead>
        <tbody id="spotsBody"></tbody>
      </table>
    </div>
    <div id="panelGrip"></div>
  </div>
  <div id="selectedWrap" class="hidden bottom-sheet" role="dialog" aria-modal="true" aria-hidden="true">
    <div id="selectedTop">
      <div id="selectedTopScroll">
        <table>
          <tbody id="selectedTopBody"></tbody>
        </table>
      </div>
      <button id="closeSelected" aria-label="Close">✕</button>
    </div>
    <div id="selectedDetail"><table><tbody id="selectedBody"></tbody></table></div>
  </div>
  <p class="foot">ETAs use a simple urban/highway model; check your nav app for exact routing.</p>
</main>

<footer id="siteFooter">© <a href="https://github.com/byterookie" target="_blank">byterookie</a> <span id="year"></span> — This guide summarizes practical rules. Local postings and harbor patrol instructions always take precedence.</footer>


<div id="infoPopup" class="hidden" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="info-inner">
    <button id="closeInfo" aria-label="Close">✕</button>
    <h2>Regulatory quick‑reference</h2>
    <ul class="muted">
      <li><strong>Harbors/Marinas:</strong> No‑wake (typically 5 mph) inside fairways until outside breakwaters.</li>
      <li><strong>CA proximity rule (common‑sense baseline):</strong> 5 mph within ~100 ft of swimmers and ~200 ft of beaches, docks, and moored boats. Always obey posted signs.</li>
      <li><strong>COLREGS (“Rules of the Road”):</strong> Applies everywhere—give way to vessels constrained by draft (ships/ferries), cross channels at right angles, show lights if dusk/night (avoid night on eFoil).</li>
      <li><strong>Sanctuaries/Wildlife:</strong> Keep clear of marine mammals; never chase. Heed local eelgrass/sanctuary zones (e.g., parts of Richardson & Tomales bays).</li>
      <li><strong>Inland lakes:</strong> Expect <em>quagga mussel inspections</em> (arrive clean & dry), day‑use hours, and occasional algae advisories.</li>
      <li><strong>Night lights:</strong> Pass on the right-hand (white stern) side of other boats; red/green bow lights mean stay clear ahead.</li>
    </ul>
    <p class="hint">This guide summarizes practical rules. Local postings and harbor patrol instructions always take precedence.</p>
  </div>
</div>

<script src="js/main.1.0.0.js" defer></script>

</body>
</html>
