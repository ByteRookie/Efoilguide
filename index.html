<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Online Efoil Guide</title>
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
</head>
<body>
<header>
  <div class="wrap">
    <h1>Online Efoil Guide</h1>
    <div class="sub">
      Rig: <strong>Fliteboard Pro + Jet2</strong> • Wings: <strong>MN 1300 C</strong> (front) + <strong>Flow 245 C</strong> (stab) • Battery: <strong>Sport</strong>
      <br><span id="originInfo" class="hint">
        <span id="originMsg">Set your origin to sort by distance & ETA. Your address is never stored.</span>
        <span id="locationBox" style="display:none">
          <input id="zip" inputmode="numeric" pattern="[0-9]*" maxlength="5" placeholder="ZIP" style="width:100px;background:var(--input-bg);border:1px solid var(--input-border);border-radius:8px;color:var(--text);padding:8px" />
          <button id="useGeo" style="background:var(--btn-alt-bg);border:1px solid var(--btn-alt-border);color:var(--text);border-radius:8px;padding:8px;cursor:pointer" title="Use My Location" aria-label="Use My Location">📍</button>
          <button id="closeLocation" aria-label="Close" style="background:none;border:none;font-size:16px;cursor:pointer;color:var(--muted);">✕</button>
        </span>
        <a href="#" id="editLocation">Edit location</a>
      </span>
    </div>

    <div id="searchRow" style="display:flex;gap:8px;align-items:center;width:100%">
      <input id="q" placeholder="Search all details" style="flex:1;background:var(--input-bg);border:1px solid var(--input-border);border-radius:8px;color:var(--text);padding:8px" />
      <button id="viewToggle" style="background:var(--btn-bg);border:1px solid var(--btn-border);color:var(--text);border-radius:8px;padding:8px;cursor:pointer">Map</button>
      <button id="filterToggle" aria-expanded="false" style="background:var(--btn-bg);border:1px solid var(--btn-border);color:var(--text);border-radius:8px;padding:8px;cursor:pointer">Show filters</button>
    </div>
    <div id="filters" class="controls" style="display:none;margin-top:8px">
      <div class="control">
        <div class="legend-row">
          <div class="chip-group">
            <span class="chip-group-label">Water:</span>
            <span class="chip f-water active b-salt" data-value="salt">Salt</span>
            <span class="chip f-water active b-fresh" data-value="fresh">Fresh</span>
            <span class="chip f-water active b-brack" data-value="brackish">Brackish</span>
          </div>
          <div class="chip-group">
            <span class="chip-group-label">Season:</span>
            <span class="chip f-season active b-yr" data-value="year">Year‑round</span>
            <span class="chip f-season active b-sprfall" data-value="spring-fall">Spring–Fall</span>
            <span class="chip f-season active b-sum" data-value="summer">Summer</span>
          </div>
          <div class="chip-group">
            <span class="chip-group-label">Skill:</span>
            <span class="chip f-skill active b-lvle" data-value="B">Beginner</span>
            <span class="chip f-skill active b-lvlm" data-value="I">Intermediate</span>
            <span class="chip f-skill active b-lvlh" data-value="A">Advanced</span>
          </div>
          <div class="chip-group" style="flex:1;align-items:center;position:relative">
            <input id="mins" type="range" min="15" max="180" step="5" value="180" style="flex:1">
            <span class="hint" id="minsVal">≤ 180 min</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<main class="wrap" id="main">
  <div id="viewWindow" style="overflow:hidden">
    <div id="viewSlider" style="display:flex;transition:transform .3s">
      <div class="table-wrap" id="tableView" style="min-width:100%">
        <table id="tbl">
          <tbody id="spotsBody"></tbody>
        </table>
      </div>
      <div id="map" style="min-width:100%;height:600px;margin-top:16px;border-radius:var(--radius);border:1px solid var(--table-border)"></div>
    </div>
  </div>
  <p class="foot">ETAs use a simple urban/highway model; check your nav app for exact routing.</p>
</main>

<button id="toTop" aria-label="Back to top">↑</button>

<script src="js/main.js" defer></script>

<section class="wrap" style="margin-bottom:40px">
  <h2>Regulatory quick‑reference</h2>
  <ul class="muted">
    <li><strong>Harbors/Marinas:</strong> No‑wake (typically 5 mph) inside fairways until outside breakwaters.</li>
    <li><strong>CA proximity rule (common‑sense baseline):</strong> 5 mph within ~100 ft of swimmers and ~200 ft of beaches, docks, and moored boats. Always obey posted signs.</li>
    <li><strong>COLREGS (“Rules of the Road”):</strong> Applies everywhere—give way to vessels constrained by draft (ships/ferries), cross channels at right angles, show lights if dusk/night (avoid night on eFoil).</li>
    <li><strong>Sanctuaries/Wildlife:</strong> Keep clear of marine mammals; never chase. Heed local eelgrass/sanctuary zones (e.g., parts of Richardson & Tomales bays).</li>
    <li><strong>Inland lakes:</strong> Expect <em>quagga mussel inspections</em> (arrive clean & dry), day‑use hours, and occasional algae advisories.</li>
  </ul>
  <p class="hint">This guide summarizes practical rules. Local postings and harbor patrol instructions always take precedence.</p>
</section>

</body>
</html>
